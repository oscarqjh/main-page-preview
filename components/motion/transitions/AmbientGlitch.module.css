/* =============================================================================
 * Ambient Idle Glitch Effects
 * ============================================================================= */

/* ── Text scramble ── */
.scramble {
  white-space: nowrap;
  overflow: hidden;
  animation: ambient-jitter 60ms steps(1) infinite;
}

@keyframes ambient-jitter {
  0% { transform: translate(0, 0); }
  25% { transform: translate(1px, 0); }
  50% { transform: translate(-1px, 1px); }
  75% { transform: translate(0, -1px); }
}

/* ── Disconnect flash overlay ── */
.disconnectOverlay {
  position: fixed;
  inset: 0;
  z-index: 600;
  pointer-events: none;
  background: rgba(0, 0, 0, 0.85);
  animation: disconnect-in 120ms steps(1) forwards;
}

.disconnectTerminal {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: var(--font-mono);
  font-size: 14px;
  line-height: 1.8;
  text-align: center;
  white-space: nowrap;
}

.disconnectLine {
  opacity: 0;
  animation: line-pop 50ms ease forwards;
}

.cursor {
  animation: blink 500ms steps(1) infinite;
}

/* =============================================================================
 * Keyframes
 * ============================================================================= */

@keyframes disconnect-in {
  0% { opacity: 0; }
  50% { opacity: 1; }
  60% { opacity: 0.7; }
  100% { opacity: 1; }
}

@keyframes line-pop {
  from { opacity: 0; transform: translateX(-2px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes blink {
  0% { opacity: 1; }
  50% { opacity: 0; }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .scramble,
  .disconnectOverlay,
  .disconnectLine,
  .cursor {
    animation: none !important;
  }

  .disconnectLine {
    opacity: 1;
  }

  .disconnectOverlay {
    display: none;
  }
}
